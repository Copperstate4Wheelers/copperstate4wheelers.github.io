---
import type { ImageMetadata } from "astro";

import { Image } from "astro:assets";

interface Props {
  href: string;
  caption: string;
  image: ImageMetadata;
}

const { href, caption, image } = Astro.props;
---

<a href={href} class="topic-card">
  <Image src={image} alt="CS4W Logo" />
  <div class="overlay"></div>
  <span class="caption">{caption}</span>
</a>

<style>
  .topic-card {
    display: grid;
    grid-template-areas: "stack";
    border-radius: 1rem;
    border: 0.2rem solid var(--primary);
    place-items: center;
    text-decoration: none;
    overflow: hidden;
    box-shadow: 0.1rem 0.1rem 0.2rem rgba(0, 0, 0, 0.5);

    & > * {
      grid-area: stack;
    }

    .overlay {
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
    }

    .caption {
      font-size: var(--fs-500);
      font-weight: 700;
      padding: 1em;
      color: white;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }

    &:hover,
    &:focus-visible {
      .caption {
        text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.8);
        text-decoration: underline;
      }

      box-shadow: 0.1rem 0.1rem 0.3rem rgba(0, 0, 0, 0.8);
    }
  }
</style>
